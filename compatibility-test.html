<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾å¤‡å…¼å®¹æ€§æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .test-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            background: white;
            color: #333;
        }
        .test-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        .info-panel {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
        }
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.9em;
            margin: 5px;
        }
        .success { background: #28a745; }
        .warning { background: #ffc107; color: #333; }
        .error { background: #dc3545; }
        .info { background: #17a2b8; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ è®¾å¤‡å…¼å®¹æ€§æµ‹è¯•é¡µé¢</h1>
        
        <div class="test-section">
            <h2>ğŸ“± è®¾å¤‡ä¿¡æ¯</h2>
            <div class="info-panel">
                <p><strong>ç”¨æˆ·ä»£ç†:</strong> <span id="userAgent"></span></p>
                <p><strong>å¹³å°:</strong> <span id="platform"></span></p>
                <p><strong>è¯­è¨€:</strong> <span id="language"></span></p>
                <p><strong>å±å¹•åˆ†è¾¨ç‡:</strong> <span id="screenResolution"></span></p>
                <p><strong>çª—å£å¤§å°:</strong> <span id="windowSize"></span></p>
            </div>
        </div>

        <div class="test-section">
            <h2>âŒ¨ï¸ è¾“å…¥åŠŸèƒ½æµ‹è¯•</h2>
            <p>æµ‹è¯•è¾“å…¥æ¡†æ˜¯å¦èƒ½æ­£å¸¸å·¥ä½œï¼š</p>
            <input type="text" id="testInput1" class="test-input" placeholder="è¯·è¾“å…¥ä¸€äº›æ–‡å­—æµ‹è¯•...">
            <input type="text" id="testInput2" class="test-input" placeholder="æµ‹è¯•ä¸­æ–‡è¾“å…¥æ³•ï¼šä½ å¥½ä¸–ç•Œ">
            <textarea id="testTextarea" class="test-input" rows="4" placeholder="æµ‹è¯•å¤šè¡Œè¾“å…¥..."></textarea>
            <div class="info-panel">
                <p><strong>è¾“å…¥äº‹ä»¶çŠ¶æ€:</strong></p>
                <div id="inputEvents"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ® æ¸¸æˆåŠŸèƒ½æµ‹è¯•</h2>
            <button id="testGameBtn" class="test-input" style="width: auto; padding: 10px 20px;">æµ‹è¯•æ¸¸æˆå¯åŠ¨</button>
            <div class="info-panel">
                <p><strong>æµ‹è¯•ç»“æœ:</strong></p>
                <div id="gameTestResults"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ” æµè§ˆå™¨åŠŸèƒ½æ£€æµ‹</h2>
            <div class="info-panel">
                <div id="browserFeatures"></div>
            </div>
        </div>

        <div class="test-section">
            <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
            <div class="info-panel">
                <p><strong>å…¼å®¹æ€§çŠ¶æ€:</strong></p>
                <div id="testResults"></div>
            </div>
        </div>
    </div>

    <script>
        // è®¾å¤‡ä¿¡æ¯æ£€æµ‹
        function detectDeviceInfo() {
            document.getElementById('userAgent').textContent = navigator.userAgent;
            document.getElementById('platform').textContent = navigator.platform;
            document.getElementById('language').textContent = navigator.language;
            document.getElementById('screenResolution').textContent = `${screen.width}x${screen.height}`;
            document.getElementById('windowSize').textContent = `${window.innerWidth}x${window.innerHeight}`;
        }

        // è¾“å…¥äº‹ä»¶æµ‹è¯•
        function testInputEvents() {
            const testInput1 = document.getElementById('testInput1');
            const testInput2 = document.getElementById('testInput2');
            const testTextarea = document.getElementById('testTextarea');
            const eventsDiv = document.getElementById('inputEvents');
            
            const events = ['focus', 'blur', 'input', 'keydown', 'keyup', 'compositionstart', 'compositionend'];
            const eventLog = {};
            
            events.forEach(event => {
                eventLog[event] = false;
            });
            
            function addEventListeners(element, elementName) {
                events.forEach(eventType => {
                    element.addEventListener(eventType, (e) => {
                        eventLog[eventType] = true;
                        updateEventDisplay();
                    });
                });
            }
            
            addEventListeners(testInput1, 'è¾“å…¥æ¡†1');
            addEventListeners(testInput2, 'è¾“å…¥æ¡†2');
            addEventListeners(testTextarea, 'æ–‡æœ¬åŸŸ');
            
            function updateEventDisplay() {
                let html = '';
                events.forEach(event => {
                    const status = eventLog[event] ? 'success' : 'warning';
                    const text = eventLog[event] ? 'âœ“' : 'âœ—';
                    html += `<span class="status ${status}">${event}: ${text}</span>`;
                });
                eventsDiv.innerHTML = html;
            }
            
            updateEventDisplay();
        }

        // æµè§ˆå™¨åŠŸèƒ½æ£€æµ‹
        function testBrowserFeatures() {
            const features = {
                'File API': typeof File !== 'undefined',
                'Local Storage': typeof localStorage !== 'undefined',
                'Session Storage': typeof sessionStorage !== 'undefined',
                'Geolocation': typeof navigator.geolocation !== 'undefined',
                'Web Workers': typeof Worker !== 'undefined',
                'Canvas': typeof document.createElement('canvas').getContext !== 'undefined',
                'Audio': typeof Audio !== 'undefined',
                'Video': typeof document.createElement('video').canPlayType !== 'undefined',
                'Touch Events': 'ontouchstart' in window,
                'Pointer Events': typeof window.PointerEvent !== 'undefined'
            };
            
            let html = '';
            for (const [feature, supported] of Object.entries(features)) {
                const status = supported ? 'success' : 'error';
                const text = supported ? 'æ”¯æŒ' : 'ä¸æ”¯æŒ';
                html += `<div><span class="status ${status}">${feature}: ${text}</span></div>`;
            }
            document.getElementById('browserFeatures').innerHTML = html;
        }

        // æ¸¸æˆåŠŸèƒ½æµ‹è¯•
        function testGameFeatures() {
            const testBtn = document.getElementById('testGameBtn');
            const resultsDiv = document.getElementById('gameTestResults');
            
            testBtn.addEventListener('click', () => {
                const tests = {
                    'DOM Elements': document.getElementById('typingInput') !== null,
                    'Event Listeners': typeof window.addEventListener !== 'undefined',
                    'Timers': typeof setTimeout !== 'undefined',
                    'JSON Support': typeof JSON !== 'undefined',
                    'CSS Transforms': typeof document.body.style.transform !== 'undefined'
                };
                
                let html = '';
                for (const [test, passed] of Object.entries(tests)) {
                    const status = passed ? 'success' : 'error';
                    const text = passed ? 'é€šè¿‡' : 'å¤±è´¥';
                    html += `<div><span class="status ${status}">${test}: ${text}</span></div>`;
                }
                resultsDiv.innerHTML = html;
            });
        }

        // æµ‹è¯•ç»“æœæ±‡æ€»
        function generateTestResults() {
            const resultsDiv = document.getElementById('testResults');
            const userAgent = navigator.userAgent.toLowerCase();
            
            let compatibility = {
                safari: /safari/.test(userAgent) && !/chrome/.test(userAgent),
                chrome: /chrome/.test(userAgent),
                firefox: /firefox/.test(userAgent),
                edge: /edge/.test(userAgent),
                mobile: /mobile|android|iphone|ipad/.test(userAgent),
                mac: /macintosh|mac os x/.test(userAgent),
                windows: /windows/.test(userAgent)
            };
            
            let html = '';
            for (const [device, detected] of Object.entries(compatibility)) {
                const status = detected ? 'info' : 'warning';
                const text = detected ? 'æ£€æµ‹åˆ°' : 'æœªæ£€æµ‹åˆ°';
                html += `<div><span class="status ${status}">${device}: ${text}</span></div>`;
            }
            resultsDiv.innerHTML = html;
        }

        // åˆå§‹åŒ–æ‰€æœ‰æµ‹è¯•
        function initializeTests() {
            detectDeviceInfo();
            testInputEvents();
            testBrowserFeatures();
            testGameFeatures();
            generateTestResults();
        }

        // é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæµ‹è¯•
        document.addEventListener('DOMContentLoaded', initializeTests);
        
        // çª—å£å¤§å°æ”¹å˜æ—¶æ›´æ–°ä¿¡æ¯
        window.addEventListener('resize', detectDeviceInfo);
    </script>
</body>
</html>